<html>
<body>

<h3>Test page for SimpleStateMachine.</h3>
<p>Current state: <span id="state"></span></p>

<script src="simple-state-machine.js"></script>
<script>

var sm = new SimpleStateMachine();

sm.subscribeToState(['*'], function(state) {
	document.getElementById('state').innerHTML = state.name;
});

sm.setStates([
	{
		name: 'loading',
		initial: true,
		onEnter: function() { console.log('entered loading'); },
		onLeave: function() { console.log('left loading'); },
		states: [ '*' ]
	},
	{
		name: 'loggedIn',
		onEnter: function() { console.log('entered loggedIn'); },
		onLeave: function() { console.log('left loggedIn'); },
		states: [ 'loggedOut' ]
	},
	{
		name: 'loggedOut',
		onEnter: function() { console.log('entered loggedOut'); },
		onLeave: function() { console.log('left loggedOut'); },
		states: [ 'loggedIn' ]
	},
]);

setTimeout(function() {
	sm.goToState('loggedIn');
}, 500);

</script>
</body>
</html>